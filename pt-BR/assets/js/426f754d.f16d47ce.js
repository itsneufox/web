"use strict";(self.webpackChunkomp_web=self.webpackChunkomp_web||[]).push([["44343"],{22674:function(e,n,r){r.r(n),r.d(n,{frontMatter:()=>i,toc:()=>l,default:()=>u,metadata:()=>o,assets:()=>d,contentTitle:()=>t});var o=JSON.parse('{"id":"tutorials/MenuGuide","title":"Guia de Menus","description":"Um breve tutorial que explica como usar o sistema de menus do jogo. Este sistema de menus \xe9 diferente dos di\xe1logos do SA-MP e reflete melhor a interface tradicional do jogo original.","source":"@site/i18n/pt-BR/docusaurus-plugin-content-docs/current/tutorials/MenuGuide.md","sourceDirName":"tutorials","slug":"/tutorials/MenuGuide","permalink":"/pt-BR/docs/tutorials/MenuGuide","draft":false,"unlisted":false,"editUrl":"https://github.com/openmultiplayer/web/edit/master/frontend/i18n/pt-BR/docusaurus-plugin-content-docs/current/tutorials/MenuGuide.md","tags":[],"version":"current","frontMatter":{"title":"Guia de Menus","sidebar_label":"Guia de Menus"},"sidebar":"docsSidebar","previous":{"title":"Bin\xe1rio","permalink":"/pt-BR/docs/tutorials/Binary"},"next":{"title":"Guia de Pickups","permalink":"/pt-BR/docs/tutorials/PickupGuide"}}'),s=r(85893),a=r(50065);let i={title:"Guia de Menus",sidebar_label:"Guia de Menus"},t=void 0,d={},l=[{value:"Menus no SA-MP",id:"menus-no-sa-mp",level:2},{value:"Primeiros passos do menu",id:"primeiros-passos-do-menu",level:2},{value:"Adicionar alguns itens ao menu",id:"adicionar-alguns-itens-ao-menu",level:2},{value:"Criando os efeitos para os itens",id:"criando-os-efeitos-para-os-itens",level:2},{value:"\xdaltimos passos",id:"\xfaltimos-passos",level:2},{value:"Palavras finais",id:"palavras-finais",level:2}];function c(e){let n={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,a.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Um breve tutorial que explica como usar o sistema de menus do jogo. Este sistema de menus \xe9 diferente dos di\xe1logos do SA-MP e reflete melhor a interface tradicional do jogo original."}),"\n",(0,s.jsx)(n.h2,{id:"menus-no-sa-mp",children:"Menus no SA-MP"}),"\n",(0,s.jsx)(n.p,{children:"Menus parecem muito complicados e dif\xedceis de programar para a maioria dos jogadores, embora n\xe3o seja. Aqui vou mostrar como criar um menu simples. No final, teremos criado um menu de teletransporte."}),"\n",(0,s.jsx)(n.h2,{id:"primeiros-passos-do-menu",children:"Primeiros passos do menu"}),"\n",(0,s.jsxs)(n.p,{children:["Primeiro precisamos criar um menu. O prefixo antes \xe9 ",(0,s.jsx)(n.code,{children:"Menu:"}),", isso torna a vari\xe1vel a ",(0,s.jsx)(n.a,{href:"../scripting/language/Tags",children:"tag"})," correta. Existem diferentes tipos para diferentes usos, como ",(0,s.jsx)(n.code,{children:"Float:"})," ",(0,s.jsx)(n.code,{children:"bool:"})," ",(0,s.jsx)(n.code,{children:"Text3D:"})," etc. Escreva o seguinte c\xf3digo perto do topo do seu script:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-pawn",children:"new Menu:teleportmenu;\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Ok, criamos a vari\xe1vel para armazenar o menu. Agora precisamos criar o menu e atribuir a vari\xe1vel que criamos ao menu. Digite isso em ",(0,s.jsx)(n.code,{children:"OnGameModeInit"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-pawn",children:'teleportmenu = CreateMenu("Teleportmenu", 2, 200.0, 100.0, 150.0, 150.0);\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Agora uma breve explica\xe7\xe3o sobre os argumentos de ",(0,s.jsx)(n.a,{href:"../scripting/functions/CreateMenu",children:"CreateMenu"}),"."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Par\xe2metros:"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Par\xe2metro"}),(0,s.jsx)(n.th,{children:"Especifica"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"title"}),(0,s.jsx)(n.td,{children:"O cabe\xe7alho do menu"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"columns"}),(0,s.jsx)(n.td,{children:"O n\xfamero aqui define quantas colunas s\xe3o usadas (2 \xe9 o m\xe1ximo)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:["Float",":x"]}),(0,s.jsx)(n.td,{children:"A posi\xe7\xe3o em altura do menu na tela (da esquerda para a direita)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:["Float",":y"]}),(0,s.jsx)(n.td,{children:"A posi\xe7\xe3o em largura do menu na tela (de cima para baixo)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:["Float",":col1width"]}),(0,s.jsx)(n.td,{children:"A largura da primeira coluna"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:["Float",":col2width"]}),(0,s.jsx)(n.td,{children:"A largura da segunda coluna"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"adicionar-alguns-itens-ao-menu",children:"Adicionar alguns itens ao menu"}),"\n",(0,s.jsxs)(n.p,{children:["Ok, agora temos o Menu, mas precisamos de alguns itens, entre os quais voc\xea pode escolher no menu. Voc\xea os adiciona abaixo do ",(0,s.jsx)(n.code,{children:"CreateMenu"})," que fizemos anteriormente."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-pawn",children:'AddMenuItem(teleportmenu, 0, "LS");\nAddMenuItem(teleportmenu, 0, "LS");\nAddMenuItem(teleportmenu, 0, "SF");\nAddMenuItem(teleportmenu, 0, "SF");\nAddMenuItem(teleportmenu, 0, "LV");\nAddMenuItem(teleportmenu, 0, "LV");\n \nAddMenuItem(teleportmenu, 1, "Grove Street");\nAddMenuItem(teleportmenu, 1, "Starfish Tower");\nAddMenuItem(teleportmenu, 1, "Wheel Arch Angels");\nAddMenuItem(teleportmenu, 1, "Jizzys");\nAddMenuItem(teleportmenu, 1, "4 Dragons");\nAddMenuItem(teleportmenu, 1, "Come-a-Lot");\n'})}),"\n",(0,s.jsxs)(n.p,{children:["A explica\xe7\xe3o para ",(0,s.jsx)(n.a,{href:"../scripting/functions/AddMenuItem",children:"AddMenuItem"}),":"]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"menuid"}),(0,s.jsx)(n.th,{children:"O menuid do menu onde o item deve ser exibido"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"column"}),(0,s.jsx)(n.td,{children:"A coluna na qual o item deve ser mostrado"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"text"}),(0,s.jsx)(n.td,{children:"O texto do item"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"criando-os-efeitos-para-os-itens",children:"Criando os efeitos para os itens"}),"\n",(0,s.jsxs)(n.p,{children:["Ok, agora que criamos um menu completo com itens, o que deve acontecer quando voc\xea escolhe um item? No nosso exemplo, queremos fazer um menu de teletransporte, ent\xe3o devemos ser teletransportados para a posi\xe7\xe3o que escolhemos. Quando um jogador seleciona um item em um menu, o script chama o callback ",(0,s.jsx)(n.a,{href:"../scripting/callbacks/OnPlayerSelectedMenuRow",children:"OnPlayerSelectedMenuRow"}),". A melhor maneira de fazer isso \xe9 com um switch, que \xe9 como v\xe1rias declara\xe7\xf5es if para verificar se uma vari\xe1vel vale certos valores. Mas primeiro, s\xf3 queremos esses efeitos para o menu que queremos, ent\xe3o precisamos criar uma vari\xe1vel que armazena qual menu o jogador est\xe1 vendo, isso \xe9 feito com ",(0,s.jsx)(n.code,{children:"GetPlayerMenu"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-pawn",children:"new Menu:CurrentMenu = GetPlayerMenu(playerid);\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Agora, quando algu\xe9m seleciona algo no menu, o menuid ser\xe1 salvo em ",(0,s.jsx)(n.code,{children:"CurrentMenu"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"Agora precisamos verificar se o menu em que selecionaram \xe9 o menu que queremos:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-pawn",children:"public OnPlayerSelectedMenuRow(playerid, row)\n{\n    new Menu:CurrentMenu = GetPlayerMenu(playerid);\n    if (CurrentMenu == teleportmenu)\n    {\n        //coisas\n    }\n    return 1;\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Agora, entre essas chaves \xe9 onde fica o ",(0,s.jsx)(n.code,{children:"switch"}),", que verifica qual item o jogador selecionou ou ",(0,s.jsx)(n.code,{children:"row"}),". Isso pode ser feito com declara\xe7\xf5es ",(0,s.jsx)(n.code,{children:"if"})," verificando qual ",(0,s.jsx)(n.code,{children:"row"})," \xe9, mas o ",(0,s.jsx)(n.code,{children:"switch"})," \xe9 uma forma muito mais simples de escrever."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-pawn",children:'if(CurrentMenu == teleportmenu)\n{\n    switch(row)\n    {\n        case 0: //Grove Street\n        {\n            SetPlayerPos(playerid, 2493.9133, -1682.3986, 13.3382);\n            SetPlayerInterior(playerid, 0);\n            SendClientMessage(playerid, 0xFFFFFFFF, "Bem-vindo \xe0 Grove Street");\n        }\n        case 1: //Starfish Tower\n        {\n            SetPlayerPos(playerid, 1541.2833, -1362.4741, 329.6457);\n            SetPlayerInterior(playerid, 0);\n            SendClientMessage(playerid, 0xFFFFFFFF, "Bem-vindo ao topo da Starfish Tower");\n        }\n        case 2: //Wheel Arch Angels\n        {\n            SetPlayerPos(playerid, -2705.5503, 206.1621, 4.1797);\n            SetPlayerInterior(playerid, 0);\n            SendClientMessage(playerid, 0xFFFFFFFF, "Bem-vindo \xe0 oficina Wheel Arch Angels");\n        }\n        case 3: //Jizzys\n        {\n            SetPlayerPos(playerid, -2617.5156, 1390.6353, 7.1105);\n            SetPlayerInterior(playerid, 0);\n            SendClientMessage(playerid, 0xFFFFFFFF, "Bem-vindo \xe0 boate Jizzy\'s!");\n        }\n        case 4: //4Dragons\n        {\n            SetPlayerPos(playerid, 2028.5538, 1008.3543, 10.8203);\n            SetPlayerInterior(playerid, 0);\n            SendClientMessage(playerid, 0xFFFFFFFF, "Bem-vindo ao Cassino Four Dragons");\n        }\n        case 5: //Come-a-Lot\n        {\n            SetPlayerPos(playerid, 2169.1838, 1122.5426, 12.6107);\n            SetPlayerInterior(playerid, 0);\n            SendClientMessage(playerid, 0xFFFFFFFF, "Bem-vindo ao cassino Come-a-Lot!");\n        }\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\xfaltimos-passos",children:"\xdaltimos passos"}),"\n",(0,s.jsxs)(n.p,{children:["Agora precisamos de um comando para mostrar o menu. Este \xe9 o passo mais f\xe1cil. Apenas uma compara\xe7\xe3o com ",(0,s.jsx)(n.code,{children:"strcmp"})," e um ",(0,s.jsx)(n.code,{children:"ShowMenuForPlayer"}),". Isso \xe9 feito em ",(0,s.jsx)(n.code,{children:"OnPlayerCommandText"}),". Ou, se voc\xea j\xe1 tiver um processador de comandos, use-o para chamar ",(0,s.jsx)(n.code,{children:"ShowMenuForPlayer"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-pawn",children:'if(strcmp(cmdtext, "/teleport", true) == 0)\n{\n    ShowMenuForPlayer(teleportmenu,playerid);\n    return 1;\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"Muito f\xe1cil, n\xe3o foi?"}),"\n",(0,s.jsx)(n.h2,{id:"palavras-finais",children:"Palavras finais"}),"\n",(0,s.jsx)(n.p,{children:"Ok, depois de ler isso E entender, tente seu pr\xf3prio menu. Como voc\xea p\xf4de ver, n\xe3o \xe9 t\xe3o dif\xedcil, mas vai impressionar os jogadores do seu servidor ainda mais. E voc\xea pode programar efeitos muito legais com isso. Tamb\xe9m \xe9 muito legal para lojas gerais ou supermercados para as coisas que voc\xea pode comprar. Ent\xe3o voc\xea pode subtrair algum dinheiro como efeito e o pre\xe7o \xe9 mostrado em outra coluna no menu. Mas agora, trabalhe no seu pr\xf3prio."}),"\n",(0,s.jsxs)(n.p,{children:["Voc\xea tamb\xe9m pode adicionar ",(0,s.jsx)(n.a,{href:"../scripting/functions/TogglePlayerControllable",children:"TogglePlayerControllable"})," com ",(0,s.jsx)(n.code,{children:"false"})," ap\xf3s ",(0,s.jsx)(n.code,{children:"ShowPlayerMenu"})," e ",(0,s.jsx)(n.a,{href:"../scripting/functions/TogglePlayerControllable",children:"TogglePlayerControllable"})," com ",(0,s.jsx)(n.code,{children:"true"})," no final de ",(0,s.jsx)(n.code,{children:"OnPlayerSelectedMenuRow"})," para que o jogador n\xe3o possa se mover enquanto estiver navegando nos menus."]}),"\n",(0,s.jsx)(n.p,{children:"Espero que voc\xea tenha aprendido algo com este tutorial. Se tiver alguma d\xfavida, pergunte nos f\xf3runs/discord."})]})}function u(e={}){let{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},50065:function(e,n,r){r.d(n,{Z:()=>t,a:()=>i});var o=r(67294);let s={},a=o.createContext(s);function i(e){let n=o.useContext(a);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),o.createElement(a.Provider,{value:n},e.children)}}}]);